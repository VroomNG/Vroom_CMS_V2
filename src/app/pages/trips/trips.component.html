<!-- <p-dialog [(visible)]="displayDialog" [modal]="true" [responsive]="true">
    <div class="trip-details">
        <div class="cont"> 
            <h5>Trip Invoice: Finished</h5>
            <div class="details1">
                <div class="box">
                     <div class="box-card">
                        <h6>Your Trip : {{viewTrips?.utc_trip_datetime}}</h6>
                        <div>
                            <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d15902.195574075227!2d6.9746144999999995!3d4.847232549999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sng!4v1698649896811!5m2!1sen!2sng" width="100%" 
                            height="250" style="border:0;" allowfullscreen=""
                             loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                        </div>

                     </div>
                </div>
                <div class="box-1">
                     <div class="box-card-1">
                        <div class="box-cont">
                            <table>
                              <tr>
                                <th>Fare Breakdown For Ride No : 2304</th>
                              </tr>
                              <tr>
                                <td>Actual Cost</td>
                                <td>{{viewTrips?.trip_amount}}</td>
                              </tr>
                              <tr>
                                <td>Total Fare (Payment Mode: cash)</td>
                                <td>{{viewTrips?.trip_amount}}  </td>
                              </tr>
                            </table>


                        </div>
                     </div>
                     <br>
                     <hr>
                     <div class="box-card-2">

                     </div>
                </div>
            </div>
            <div class="details2">
                <div class="box-2">
                    <div class="box-card-3">
                        hh
                    </div>
                </div>
            </div>
        </div>
    </div>
  </p-dialog> -->
  <div class="w-full h-full">
    <p-dialog [(visible)]="displayDialog" [modal]="true" [responsive]="true" [closable]="false"  class="absolute">
        <div class="w-[80vh] h-[60vh] flex items-start justify-center ">
            <div class="h-[95%] w-[95%]">
                <div class="h-[10%] flex items-center w-full"> 
                  <h3 class="h3 text-[#28094F]">Trip Details</h3>
                </div>
                <div class="h-[80%] w-full flex  items-start">
                   <div class="h-[80%] pt-4 w-full flex flex-wrap">
                       <div class="w-[50%]">
                           <h5>Trips Number</h5>
                           <p>VRM {{ editedUser?.id }} </p>
                       </div>
                      
                       <div class="w-[50%]">
                           <h5>Date</h5>
                           <p>{{ editedUser?.utc_trip_datetime  | date:'short':'UTC' }}</p>
                       </div>
                       <div class="w-[50%]">
                           <h5>Driver</h5>
                          <p>{{ editedUser?.driver_firstname }}</p> 
                          <div *ngIf="!editedUser?.driver_firstname">
                           Not detected
                          </div>            
                       </div>
                       <div class="w-[50%]">
                           <h5>Rider</h5>
                           <p> {{ editedUser?.firstname }} {{ editedUser?.lastname }}</p>
                       </div>
                       
                       <div class="w-[50%]">
                           <h5>Actual Amount</h5>
                           <p>{{editedUser?.trip_amount}}</p>     
                       </div>
                       <div class="w-[50%]">
                           <h5>Total Amount</h5>
                           <p>{{editedUser?.trip_amount_without_discount}}</p>     
                       </div>

                       <div class="w-[50%]">
                           <h5>Payment Mode</h5>
                           <p>{{editedUser?.payment_type}}</p>     
                       </div>
                       <div class="w-[50%]">
                           <h5>Trip Status</h5>
                           <div *ngIf="editedUser?.trip_status == 3">
                               <span>Completed</span>
                           </div>
                           <div *ngIf="editedUser?.trip_status == 6">
                               <span>Cancelled</span>
                           </div>
                           <div *ngIf="editedUser?.trip_status == '' || null || undefined || '0'  ">
                               <span>Not detected</span>
                           </div> 
                       </div>
                       <div class="w-[50%]">
                           <h5>Vehicle Type</h5>
                           <p>{{editedUser?.Vehicle_type}}</p>
                           <p>{{editedUser?.make}}</p>
                       </div>
                   </div>
               </div>
               
                <div class="h-[10%] w-full flex justify-between">
                   <div class="btn w-[48%]">
                       <app-button buttonText="Cancel" borderColor="#F1F2F4" bgColor="transparent" (click)="toggleDialog()"></app-button>
                   </div>
                   <div class="btn w-[48%]">
                    <a routerLink="/users/{{editedUser?.id}}/edit" class="hover:text-brand900">
                      <app-button buttonText="Edit Admin" borderColor="#28094F" bgColor="#28094F" textColor="#FFFFFF"></app-button>
                    </a>   
                </div>
                </div>
           </div>   
        </div>                                 
    </p-dialog>
 <div>
     <div >
         <div>
             <app-loader *ngIf="showLoader"></app-loader>
             <div *ngIf="showNoResults === true && !showLoader" class="w-full h-[80vh] flex items-center justify-center">
                 <h1 class="font-bold text-3xl text-gray-200">No Match Found</h1>
             </div>
                     <p-table *ngIf="!showLoader && !showNoResults" 
                         [value]="trips"
                         [paginator]="true"
                         [rows]="10"
                         [showCurrentPageReport]="false"
                         [tableStyle]="{ 'min-width': '100%' }"
                         currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                         [rowsPerPageOptions]=""
                     >
                         <ng-template pTemplate="header">
                             <tr style="height: 3rem; border-color: #FAFAF9; border-top-width: 0.2px; border-bottom-width:0.2px ;">

                                <th class="w-[10%]">Trip No</th>
                                <th class="w-[20%]">Rider</th>
                                <th class="w-[10%]">Date</th>
                                <th class="w-[5%]">Driver</th>
                                <th class="w-[5%]">Trip Total Amount (&#x20A6;)</th>
                                <th class="w-[5%]">Trip Status</th>
                                <th class="w-[5%]">Payment Mode</th>
                                <th class="w-[5%]">Action</th>
                             </tr>
                         </ng-template>
                         <ng-template pTemplate="body" let-trips>
                            <tr style="height: 3rem; border-color: #abb4ce80; border-top-width: 0.2px; border-bottom-width:0.2px "
                             *ngIf="trips.trip_status === '3' || searchText === '' || trips.driver_firstname.toLowerCase().includes(searchText) || trips.firstname.toLowerCase().includes(searchText) || trips.lastname.toLowerCase().includes(searchText)   ">
                        
                                    <td>VRM {{ trips.id }}</td>
                                    <span class="flex items-center"> 
                                        <img src="assets/img/theme/user.png" class="w-8" alt="sidebar">
                                        <!-- <img src="{{users.profile_url}}" class="w-8" alt="sidebar"> -->
                                       <span class="capitalize flex flex-wrap mx-2">{{trips.firstname}} {{trips.lastname}}</span> 
                                    </span>
                                    <td> {{ trips.utc_trip_datetime  | date:'short':'UTC' }}</td>
                                    <td>
                                        {{ trips.driver_firstname }}
                                        <div *ngIf="!trips.driver_firstname">
                                         Not detected
                                        </div>
                                    </td>

                                    <td>{{ trips.trip_amount_without_discount }}</td>
                                    <td>
                                        
                                        <div *ngIf="trips.trip_status == 3">
                                            <span>Completed</span>
                                        </div>
                                        <div *ngIf="trips.trip_status == 6">
                                            <span>Cancelled</span>
                                        </div>
                                        <div *ngIf="trips.trip_status == '' || null || undefined || '0'  ">
                                            <span>Not detected</span>
                                        </div>
                                        
                                    </td>
                                    <td>{{ trips.payment_type }}</td>
                                
                                <td class="action flex justify-between">
                                    <span class="edit">
                                        <div class="flex align-items-center justify-content-center gap-2">
                                            <span (click)="userAction(trips.id)">
                                                <button pButton pRipple type="button" icon="fa-solid fa-ellipsis-vertical"
                                                    class="p-button-rounded p-button-text"></button>
                                            </span>
                                        </div>
                                    </span>
                                </td>
                                <div class="z-[9999] card  w-36 h-36 bg-white drop-shadow-xl absolute" *ngIf="selectedUserId === trips.id">
                                    <div class="h-[33%] bg-[#FAFAF9] rounded-t-md flex items-center justify-center red-400">
                                        <p class="font-medium">More Actions</p>
                                    </div>
                                    <div class="h-[32%] flex items-center border-y-[0.5px] border-[#EEECF6] justify-center ">
                                        <span class="text-brand900 cursor-pointer hover:font-bold" (click)="editUser(trips)" >
                                            <span class="hover:font-medium">View User</span> 
                                        </span>
                                    </div>
                                </div>
                            </tr> 
                        </ng-template>
                         
                             <ng-template pTemplate="paginatorleft">
                                 
                             </ng-template>
                             <ng-template pTemplate="paginatorright">
                                
                             </ng-template>
                     </p-table>  
                 </div>
             </div>
         </div>    
</div>
